<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, user-scalable=no" />
    <meta charset="utf-8" />
    <script src="Scripts/jquery-3.6.0.js"></script>
    <script src="Scripts/jquery-ui.js"></script>
    <script src="Scripts/bootstrap.js"></script>
    <link href="Content/jquery-ui.css" rel="stylesheet" />
    <link href="Content/bootstrap.rtl.css" rel="stylesheet" />
    <link href="Content/font-awesome.css" rel="stylesheet" />
    <title></title>
</head>
<body style="direction:rtl; background-color:#f0f0f0;">
    <script>
        var data = {
            Id: 1,
            Title: "ایمان کاظمی",
            Semesters: [{
                Id: 1,
                Title: "ترم 1399 - 2",
                AverageMark: 17.5,
                TotalCredit: 16,
                Courses: [{
                    Title: "مدار منظقی",
                    Mark: 16,
                    CreditT: 2,
                    CreditP: 1,
                    ProfessorTitle: "کاظمی"
                }
                ]
            }, {
                Id: 1,
                Title: "ترم 1400 - 1",
                AverageMark: 18.5,
                TotalCredit: 17,
                Courses: [{
                    Title: "برنامه سازی 1",
                    Mark: 18,
                    CreditT: 3,
                    CreditP: 0,
                    ProfessorTitle: "مرتضوی بزرگ"
                }
                ]
            }],
            AverageMark: 17.5,
            TotalCredit: 60
        };
    </script>
    <div class="container">
        <div semesters class="row">
            <div class="col-12 mt-2">
                <input type="hidden" id="studentid" />
                <div class="float-start">
                    <p student-title>نام: <span></span></p>
                    <p student-average-mark>معدل کل: <span></span></p>
                    <p student-total-credit>تعداد واحد پاس شده: <span></span></p>
                </div>           
                <a class="btn btn-success float-end" href="/test-plugin-week.html">انتخاب واحد</a>
            </div>
            <div semester-template>
                <table class="table table-bordered table-hover table-light">
                    <thead>
                        <tr>
                            <th semester-title colspan="5"></th>
                        </tr>
                        <tr>
                            <th>عنوان</th>
                            <th>مدرس</th>
                            <th>تئوری</th>
                            <th>عملی</th>
                            <th>نمره</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $("input#id").val(data.Id);
            $("[student-title] span").text(data.Title);
            $("[student-average-mark] span").text(data.AverageMark);
            $("[student-total-credit] span").text(data.TotalCredit);
            $(data.Semesters).each(function () {
                semester = this;
                $("div[semesters]").append(`<div data-id="${semester.Id}" semester class="col-sm-6 mt-2">` + $("[semester-template]").html() + '</div>');
                var semesterDiv = $("div[semesters] [semester]").last();
                $(semesterDiv).find("[semester-title]").text(semester.Title);
                $(semester.Courses).each(function () {
                    var course = this;
                    $(semesterDiv).find("table > tbody").append(`<tr><td>${course.Title}</td><td>${course.ProfessorTitle}</td><td>${course.CreditT}</td><td>${course.CreditP}</td><td>${course.Mark}</td></tr>`);
                });
            });
        });
    </script>
    <style>
        [semester-template]{
            display:none;
        }
    </style>
</body>
</html>